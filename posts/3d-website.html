<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"/><link rel="stylesheet" type="text/css" href="/style.css" media="screen"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>I made a 3D Website</title><meta name="next-head-count" content="13"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/1b1ec43acfd27f61.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1b1ec43acfd27f61.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-95788eadc4661618.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-01df828e572375b9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-21d415209bcd6cab.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-508bb588ec047208.js" defer=""></script><script src="/_next/static/xfGBWHoi7dAVcSqPyM02t/_buildManifest.js" defer=""></script><script src="/_next/static/xfGBWHoi7dAVcSqPyM02t/_ssgManifest.js" defer=""></script><script src="/_next/static/xfGBWHoi7dAVcSqPyM02t/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css?family=Raleway:300">@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v26/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v26/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCFPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v26/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCMPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v26/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCHPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v26/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCGPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v26/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCIPrcVIT9d0c8.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css?family=Open+Sans:400,700">@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:normal;src:url(https://fonts.gstatic.com/s/opensans/v28/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVQ.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:normal;src:url(https://fonts.gstatic.com/s/opensans/v28/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsg-1x4gaVQ.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v28/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><main style="top:0;left:0;right:0;bottom:0;position:absolute"><article><section class="article-header"><section class="article-header-flex-section"><ul class="article-header-flex" style="width:fit-content"><li><a href="/"><h1>yourWaifu</h1></a></li></ul><ul class="article-header-flex right-menu"><li><a href="https://github.com/yourWaifu"><i class="fab fa-github fa-2x"></i></a></li></ul></section><section class="article-header-info"><h1 class="article-header-title">I made a 3D Website</h1><div><p>written on <!-- -->Oct 6, 2021<!-- --> by Hao Qi Wu</p></div></section></section><div class="article"><section class="article-content"><div><p>I made a website that has 3D models, lighting, and materials. Likewise, I used a ton of different tools to get this result. And in this article I’ll be going over how I used Blender, React, and Three.JS to make a sick looking website.</p>
<h2>Overview</h2>
<p>I already have experience with WebGL from making my own game engine and having to use WebGL to render the game on a website. But I don’t feel like spending weeks on a renderer when there’s Three.js to do that stuff for me. There’s even a React Renderer made for it called React Three Fiber, that’ll help use Three.js with React.js.</p>
<h2>Adding 3D Stuff</h2>
<p><a href="https://codesandbox.io/s/volumetric-light-w633u"><img src="/images/3d-website/three-fiber-example_1.12.1.png" alt=""></a>
I remember using an example they had that rendered a 3D model. In that example, I noticed they used a GLTFLoader. GLTF is a royalty-free format for loading in models that 3D software like Blender supports, allowing us to use Blender for this project.
<a href="https://gltf.pmnd.rs/"><img src="/images/3d-website/gltf-code-generator_1.19.1.jpg" alt=""></a>
Thankfully, someone also made a GLTF to React Three Fiber code generator that turned out to be really helpful, as it would write out the code you would need to write to load and render the 3D models and materials that’s in the GLTF file.
<a href="https://gltf.pmnd.rs/"><img src="/images/3d-website/just-a-girl-model_1.20.1.jpg" alt=""></a>
They even have a nice website, where you can import 3D models. <a href="https://gltf.pmnd.rs/">https://gltf.pmnd.rs/</a>.</p>
<h2>Making a 3D Model</h2>
<p>However, before we can render a 3D model, we need a 3D model to render. Looking around in my hard drive, I found a flat 3D model of my name that I made years ago. I basically write my name in Krita, imported that into Inkscape, exported that as an SVG and imported that to Blender, where I turned it into a 3D model and exported that into a GLTF.
<a href="https://threejs.org/docs/index.html#api/en/materials/MeshBasicMaterial"><img src="/images/3d-website/three-basic-material_1.25.1.png" alt=""></a>
The 3D model doesn’t have a material or texture, so I used Three.js’s basic material, which just renders it as a solid color of my choice that isn’t effected by any lights.</p>
<h2>The Camera</h2>
<p>After that, I added some camera controls. When I first envisioned this, I thought of the camera following a 3D path that the camera will take. However, I felt that having the camera move forward was enough for the sake of time. I added an invisible HTML element that extended past the screen to make it, so you can scroll down on the page, and made it so that scrolling down moves the camera.</p>
<h2>Not a flat 3D Model</h2>
<p><img src="/images/3d-website/PXL_20210404_2033386212.jpg" alt="">
At the time, I was buying a new keyboard, so I decided to 3D model one for the website. I haven’t touched blender in a while, and they changed the interface since I last 3D modeled something in it. However, I just messed around with it and made some donuts before modeling the keyboard. I also went online to find some keyboard, and none of them were to my liking, but I actually got to explore some 3D art on Sketchfab, and got a ton of inspiration.
<a href="https://sketchfab.com/3d-models/1984-apple-macintosh-128k-expanded-544a03b89d72462c9b1480dcae3d2530"><img src="/images/3d-website/box-keycaps_1.44.1.jpg" alt=""></a>
I saw someone modeled some old computer and the keyboard was just a bunch of boxes.
<img src="/images/3d-website/keyboard-modeling.png" alt="">
So that’s what I did, I just made different sized boxes and made some sides smaller.
<img src="/images/3d-website/computer-setup-proto.png" alt="">
I also made a cup based off of low res cups I saw on Sketchfab. I didn’t stop there, I also made a computer, and a monitor.</p>
<h2>HTML in 3D</h2>
<p>I could have rendered text in WebGL, but doing so would remove a lot of browser features like text to speech, text select, and links. I would have to implement that stuff myself, there are libraries to do that, but I felt that it would be quicker to get this site working using HTML text. Furthermore, I used Drei, which is like a library full of different stuff for React Three Fiber, I used its HTML overlay for where the text content will be. Drei’s HTML overlay also changes the size of the elements to make it look like they were part of the 3D content.
<img src="/images/3d-website/translateZ-issues.jpg" alt="">
But when I first used it, it wouldn’t update the size of the elements for some reason unless I tell it to use CSS 3D translate, which created this really blurry text.
<img src="/images/3d-website/scale-prototype.jpg" alt="">
I didn’t like that, and I couldn’t figure out what went wrong, but I ended reading the code and recreating it into something that works for me. This solved the blurry text issue by having it not use CSS 3D translate and instead use CSS scale.</p>
<h2>The Round One</h2>
<p><img src="/images/3d-website/prototype_1.59.1.jpg" alt="">
At this point, I deployed it and showed it off to some people online. I got a bunch of complaints about the cup being cursed. I think it’s because the cup and the name had two different styles that didn’t really match up together,
<img src="/images/3d-website/new-cup-vs-old-cup.png" alt="">
so I decided to make a cup that was round.
<img src="/images/3d-website/subdivisions_1.61.1.jpg" alt="">
I did some subdivisions on the model and added a few more faces on the top and bottom, and it created this nice round model. However, this model had 2 million triangles. This model is going to be rendered on a slow phone, so I need to lower that triangle count so that it doesn’t cause my site to run so slowly.</p>
<h2>Different Surfaces One Material</h2>
<p><img src="/images/3d-website/cpu-materal.jpg" alt="">
I wanted to add another 3D model to the site, so I made a 3D model of a CPU. The material on the CPU was the most complex part, as a CPU is made up of more than one material. Some parts of it are made of nickel, copper, gold, etc.
<a href="https://www.nvidia.com/en-us/geforce/guides/minecraft-rtx-texturing-guide/"><img src="/images/3d-website/RoughnessMap-2.png" alt=""></a>
I also never had to do this before, but I actually found a good guide on this for Minecraft textures. Minecraft’s new path tracing renderer for their bedrock version of the game adds in an albedo, metalness, roughness, emissive, height, and normal map to their game, and they gave the community a good guide on how to use these for making texture packs. I’ve actually already known about this, but I have never made those things before, so I used this as a nice guide.
<img src="/images/3d-website/blender-texture-painter_1.81.1.jpg" alt="">
I quickly got familiar with blender’s texture painter and UV editor so that I can paint new albedo, metal, rough, and specular maps.</p>
<h2>99 Small Issues</h2>
<p>From here, I fixed mostly small issues like I noticed some color banding,
<img src="/images/3d-website/trying-srgb_1.85.1.png" alt="">
so I used SRGB and found the whole thing to have really washed out colors,
<img src="/images/3d-website/trying-dithering_1.87.1.png" alt="">
so I tried dithering instead. I was afraid that might be noticeable, but it fixed the issue and I couldn’t notice the dithering.</p>
<p>I wasn’t a fan of the scroll bar because I felt that it was destroying the illusion of a 3D website. At first, I didn’t know how to do this and messed around with the HTML and CSS to get it to not show a scroll bar. It took me another day when I figured out a solution, once I did, I had to rewrite a good chunk of the HTML layout.
<img src="/images/3d-website/large-element_1.90.1.jpg" alt="">
I ended up making a large HTML element that you can scroll with the 3D content and, using CSS, made the scroll bar off-screen to the right and made it so that you can’t scroll to it. I then had to make the 3D content stick to the top and left sides of the screen using CSS sticky.</p>
<p><img src="/images/3d-website/canvas-under-scroll_1.90.2.jpg" alt="">
The solution I wanted was having the scroll element under the canvas and button.
<img src="/images/3d-website/flex-to-the-right_1.91.1.jpg" alt="">
However, a simpler solution was to use CSS flex to move the scroll element to the right of the canvas, where it should also be off-screen.</p>
<p>Another problem was that is for some reason, I don’t know why, touching buttons outside this big scrollable element, like the Home button, would cancel some inputs like scrolling. Making scrolling feel unresponsive.
<img src="/images/3d-website/off-centered_1.95.1.jpg" alt="">
I make this stick to the 3D content, but it would position itself a bit off-screen for some reason. In fact, this made me notice that the 3D content was also a bit off centered now too. I tried fixing this with just CSS, but after a day and no progress, I realized that the whole site requires JavaScript anyway, so might as well do this positioning in JavaScript.</p>
<pre><code>const viewportTop = topRef.current.getBoundingClientRect().top;
const viewportBottom = bottomRef.current.getBoundingClientRect().bottom;
const viewportCenterY = (viewportTop + viewportBottom) / 2;
const canvasRect = canvasContainer.current.getBoundingClientRect();
const canvasCenterY = (canvasRect.top + canvasRect.bottom) / 2;
if (canvas.current.parentElement) {
    const transformGoalY =  viewportCenterY - canvasCenterY;
    if (transformGoalY !== canvasTransformY)
        canvas.current.parentElement.style.top = `${transformGoalY}px`;
    canvasTransformY = transformGoalY;
}

if (backButtonRef.current.parentElement) {
    const backBottom = canvasRect.bottom - viewportBottom;
    if (backButtonBottom !== backBottom)
        backButtonRef.current.parentElement.style.bottom = `${backBottom}px`;
    backButtonBottom = backBottom;
}
</code></pre>
<p>I calculated where the elements should be on-screen and positioned the elements on every frame. And that fixed the strange issues and hides the scroll bar.</p>
<h2>The Results</h2>
<p>I showed it to people online and people were impressed. React.js, Three.js, and Blender, are all pretty good tools that can be used together to make some fun 3D websites. <a href="https://yourwaifu.dev/">Check it out at yourWaifu.dev.</a></p>
<h2>Thanks for Reading</h2>
<p>Writing, editing, and website by Hao Qi Wu <a href="https://yourwaifu.dev/">https://yourwaifu.dev/</a></p>
<p>"Just a girl" (<a href="https://skfb.ly/6UCJW">https://skfb.ly/6UCJW</a>) by 腱鞘炎の人 is licensed under Creative Commons Attribution (<a href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</a>).</p>
<p>Damaged Helmet - <a href="https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4">https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4</a>
Battle Damaged Sci-fi Helmet - PBR by theblueturtle_, published under a Creative Commons Attribution-NonCommercial license</p>
<p>1984 Apple Macintosh 128k (Expanded) <a href="https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4">https://sketchfab.com/3d-models/1984-apple-macintosh-128k-expanded-544a03b89d72462c9b1480dcae3d2530</a></p>
</div></section></div></article></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"3d-website","content":"\u003cp\u003eI made a website that has 3D models, lighting, and materials. Likewise, I used a ton of different tools to get this result. And in this article I’ll be going over how I used Blender, React, and Three.JS to make a sick looking website.\u003c/p\u003e\n\u003ch2\u003eOverview\u003c/h2\u003e\n\u003cp\u003eI already have experience with WebGL from making my own game engine and having to use WebGL to render the game on a website. But I don’t feel like spending weeks on a renderer when there’s Three.js to do that stuff for me. There’s even a React Renderer made for it called React Three Fiber, that’ll help use Three.js with React.js.\u003c/p\u003e\n\u003ch2\u003eAdding 3D Stuff\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://codesandbox.io/s/volumetric-light-w633u\"\u003e\u003cimg src=\"/images/3d-website/three-fiber-example_1.12.1.png\" alt=\"\"\u003e\u003c/a\u003e\r\nI remember using an example they had that rendered a 3D model. In that example, I noticed they used a GLTFLoader. GLTF is a royalty-free format for loading in models that 3D software like Blender supports, allowing us to use Blender for this project.\r\n\u003ca href=\"https://gltf.pmnd.rs/\"\u003e\u003cimg src=\"/images/3d-website/gltf-code-generator_1.19.1.jpg\" alt=\"\"\u003e\u003c/a\u003e\r\nThankfully, someone also made a GLTF to React Three Fiber code generator that turned out to be really helpful, as it would write out the code you would need to write to load and render the 3D models and materials that’s in the GLTF file.\r\n\u003ca href=\"https://gltf.pmnd.rs/\"\u003e\u003cimg src=\"/images/3d-website/just-a-girl-model_1.20.1.jpg\" alt=\"\"\u003e\u003c/a\u003e\r\nThey even have a nice website, where you can import 3D models. \u003ca href=\"https://gltf.pmnd.rs/\"\u003ehttps://gltf.pmnd.rs/\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003eMaking a 3D Model\u003c/h2\u003e\n\u003cp\u003eHowever, before we can render a 3D model, we need a 3D model to render. Looking around in my hard drive, I found a flat 3D model of my name that I made years ago. I basically write my name in Krita, imported that into Inkscape, exported that as an SVG and imported that to Blender, where I turned it into a 3D model and exported that into a GLTF.\r\n\u003ca href=\"https://threejs.org/docs/index.html#api/en/materials/MeshBasicMaterial\"\u003e\u003cimg src=\"/images/3d-website/three-basic-material_1.25.1.png\" alt=\"\"\u003e\u003c/a\u003e\r\nThe 3D model doesn’t have a material or texture, so I used Three.js’s basic material, which just renders it as a solid color of my choice that isn’t effected by any lights.\u003c/p\u003e\n\u003ch2\u003eThe Camera\u003c/h2\u003e\n\u003cp\u003eAfter that, I added some camera controls. When I first envisioned this, I thought of the camera following a 3D path that the camera will take. However, I felt that having the camera move forward was enough for the sake of time. I added an invisible HTML element that extended past the screen to make it, so you can scroll down on the page, and made it so that scrolling down moves the camera.\u003c/p\u003e\n\u003ch2\u003eNot a flat 3D Model\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/images/3d-website/PXL_20210404_2033386212.jpg\" alt=\"\"\u003e\r\nAt the time, I was buying a new keyboard, so I decided to 3D model one for the website. I haven’t touched blender in a while, and they changed the interface since I last 3D modeled something in it. However, I just messed around with it and made some donuts before modeling the keyboard. I also went online to find some keyboard, and none of them were to my liking, but I actually got to explore some 3D art on Sketchfab, and got a ton of inspiration.\r\n\u003ca href=\"https://sketchfab.com/3d-models/1984-apple-macintosh-128k-expanded-544a03b89d72462c9b1480dcae3d2530\"\u003e\u003cimg src=\"/images/3d-website/box-keycaps_1.44.1.jpg\" alt=\"\"\u003e\u003c/a\u003e\r\nI saw someone modeled some old computer and the keyboard was just a bunch of boxes.\r\n\u003cimg src=\"/images/3d-website/keyboard-modeling.png\" alt=\"\"\u003e\r\nSo that’s what I did, I just made different sized boxes and made some sides smaller.\r\n\u003cimg src=\"/images/3d-website/computer-setup-proto.png\" alt=\"\"\u003e\r\nI also made a cup based off of low res cups I saw on Sketchfab. I didn’t stop there, I also made a computer, and a monitor.\u003c/p\u003e\n\u003ch2\u003eHTML in 3D\u003c/h2\u003e\n\u003cp\u003eI could have rendered text in WebGL, but doing so would remove a lot of browser features like text to speech, text select, and links. I would have to implement that stuff myself, there are libraries to do that, but I felt that it would be quicker to get this site working using HTML text. Furthermore, I used Drei, which is like a library full of different stuff for React Three Fiber, I used its HTML overlay for where the text content will be. Drei’s HTML overlay also changes the size of the elements to make it look like they were part of the 3D content.\r\n\u003cimg src=\"/images/3d-website/translateZ-issues.jpg\" alt=\"\"\u003e\r\nBut when I first used it, it wouldn’t update the size of the elements for some reason unless I tell it to use CSS 3D translate, which created this really blurry text.\r\n\u003cimg src=\"/images/3d-website/scale-prototype.jpg\" alt=\"\"\u003e\r\nI didn’t like that, and I couldn’t figure out what went wrong, but I ended reading the code and recreating it into something that works for me. This solved the blurry text issue by having it not use CSS 3D translate and instead use CSS scale.\u003c/p\u003e\n\u003ch2\u003eThe Round One\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/images/3d-website/prototype_1.59.1.jpg\" alt=\"\"\u003e\r\nAt this point, I deployed it and showed it off to some people online. I got a bunch of complaints about the cup being cursed. I think it’s because the cup and the name had two different styles that didn’t really match up together,\r\n\u003cimg src=\"/images/3d-website/new-cup-vs-old-cup.png\" alt=\"\"\u003e\r\nso I decided to make a cup that was round.\r\n\u003cimg src=\"/images/3d-website/subdivisions_1.61.1.jpg\" alt=\"\"\u003e\r\nI did some subdivisions on the model and added a few more faces on the top and bottom, and it created this nice round model. However, this model had 2 million triangles. This model is going to be rendered on a slow phone, so I need to lower that triangle count so that it doesn’t cause my site to run so slowly.\u003c/p\u003e\n\u003ch2\u003eDifferent Surfaces One Material\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/images/3d-website/cpu-materal.jpg\" alt=\"\"\u003e\r\nI wanted to add another 3D model to the site, so I made a 3D model of a CPU. The material on the CPU was the most complex part, as a CPU is made up of more than one material. Some parts of it are made of nickel, copper, gold, etc.\r\n\u003ca href=\"https://www.nvidia.com/en-us/geforce/guides/minecraft-rtx-texturing-guide/\"\u003e\u003cimg src=\"/images/3d-website/RoughnessMap-2.png\" alt=\"\"\u003e\u003c/a\u003e\r\nI also never had to do this before, but I actually found a good guide on this for Minecraft textures. Minecraft’s new path tracing renderer for their bedrock version of the game adds in an albedo, metalness, roughness, emissive, height, and normal map to their game, and they gave the community a good guide on how to use these for making texture packs. I’ve actually already known about this, but I have never made those things before, so I used this as a nice guide.\r\n\u003cimg src=\"/images/3d-website/blender-texture-painter_1.81.1.jpg\" alt=\"\"\u003e\r\nI quickly got familiar with blender’s texture painter and UV editor so that I can paint new albedo, metal, rough, and specular maps.\u003c/p\u003e\n\u003ch2\u003e99 Small Issues\u003c/h2\u003e\n\u003cp\u003eFrom here, I fixed mostly small issues like I noticed some color banding,\r\n\u003cimg src=\"/images/3d-website/trying-srgb_1.85.1.png\" alt=\"\"\u003e\r\nso I used SRGB and found the whole thing to have really washed out colors,\r\n\u003cimg src=\"/images/3d-website/trying-dithering_1.87.1.png\" alt=\"\"\u003e\r\nso I tried dithering instead. I was afraid that might be noticeable, but it fixed the issue and I couldn’t notice the dithering.\u003c/p\u003e\n\u003cp\u003eI wasn’t a fan of the scroll bar because I felt that it was destroying the illusion of a 3D website. At first, I didn’t know how to do this and messed around with the HTML and CSS to get it to not show a scroll bar. It took me another day when I figured out a solution, once I did, I had to rewrite a good chunk of the HTML layout.\r\n\u003cimg src=\"/images/3d-website/large-element_1.90.1.jpg\" alt=\"\"\u003e\r\nI ended up making a large HTML element that you can scroll with the 3D content and, using CSS, made the scroll bar off-screen to the right and made it so that you can’t scroll to it. I then had to make the 3D content stick to the top and left sides of the screen using CSS sticky.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/3d-website/canvas-under-scroll_1.90.2.jpg\" alt=\"\"\u003e\r\nThe solution I wanted was having the scroll element under the canvas and button.\r\n\u003cimg src=\"/images/3d-website/flex-to-the-right_1.91.1.jpg\" alt=\"\"\u003e\r\nHowever, a simpler solution was to use CSS flex to move the scroll element to the right of the canvas, where it should also be off-screen.\u003c/p\u003e\n\u003cp\u003eAnother problem was that is for some reason, I don’t know why, touching buttons outside this big scrollable element, like the Home button, would cancel some inputs like scrolling. Making scrolling feel unresponsive.\r\n\u003cimg src=\"/images/3d-website/off-centered_1.95.1.jpg\" alt=\"\"\u003e\r\nI make this stick to the 3D content, but it would position itself a bit off-screen for some reason. In fact, this made me notice that the 3D content was also a bit off centered now too. I tried fixing this with just CSS, but after a day and no progress, I realized that the whole site requires JavaScript anyway, so might as well do this positioning in JavaScript.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst viewportTop = topRef.current.getBoundingClientRect().top;\r\nconst viewportBottom = bottomRef.current.getBoundingClientRect().bottom;\r\nconst viewportCenterY = (viewportTop + viewportBottom) / 2;\r\nconst canvasRect = canvasContainer.current.getBoundingClientRect();\r\nconst canvasCenterY = (canvasRect.top + canvasRect.bottom) / 2;\r\nif (canvas.current.parentElement) {\r\n    const transformGoalY =  viewportCenterY - canvasCenterY;\r\n    if (transformGoalY !== canvasTransformY)\r\n        canvas.current.parentElement.style.top = `${transformGoalY}px`;\r\n    canvasTransformY = transformGoalY;\r\n}\r\n\r\nif (backButtonRef.current.parentElement) {\r\n    const backBottom = canvasRect.bottom - viewportBottom;\r\n    if (backButtonBottom !== backBottom)\r\n        backButtonRef.current.parentElement.style.bottom = `${backBottom}px`;\r\n    backButtonBottom = backBottom;\r\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI calculated where the elements should be on-screen and positioned the elements on every frame. And that fixed the strange issues and hides the scroll bar.\u003c/p\u003e\n\u003ch2\u003eThe Results\u003c/h2\u003e\n\u003cp\u003eI showed it to people online and people were impressed. React.js, Three.js, and Blender, are all pretty good tools that can be used together to make some fun 3D websites. \u003ca href=\"https://yourwaifu.dev/\"\u003eCheck it out at yourWaifu.dev.\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eThanks for Reading\u003c/h2\u003e\n\u003cp\u003eWriting, editing, and website by Hao Qi Wu \u003ca href=\"https://yourwaifu.dev/\"\u003ehttps://yourwaifu.dev/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\"Just a girl\" (\u003ca href=\"https://skfb.ly/6UCJW\"\u003ehttps://skfb.ly/6UCJW\u003c/a\u003e) by 腱鞘炎の人 is licensed under Creative Commons Attribution (\u003ca href=\"http://creativecommons.org/licenses/by/4.0/\"\u003ehttp://creativecommons.org/licenses/by/4.0/\u003c/a\u003e).\u003c/p\u003e\n\u003cp\u003eDamaged Helmet - \u003ca href=\"https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4\"\u003ehttps://sketchfab.com/models/b81008d513954189a063ff901f7abfe4\u003c/a\u003e\r\nBattle Damaged Sci-fi Helmet - PBR by theblueturtle_, published under a Creative Commons Attribution-NonCommercial license\u003c/p\u003e\n\u003cp\u003e1984 Apple Macintosh 128k (Expanded) \u003ca href=\"https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4\"\u003ehttps://sketchfab.com/3d-models/1984-apple-macintosh-128k-expanded-544a03b89d72462c9b1480dcae3d2530\u003c/a\u003e\u003c/p\u003e\n","layout":"article","title":"I made a 3D Website","description":null,"author":"Hao Qi Wu","date":"Wed Oct 06 2021 22:30:00 GMT+0000 (Coordinated Universal Time)"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"3d-website"},"buildId":"xfGBWHoi7dAVcSqPyM02t","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>