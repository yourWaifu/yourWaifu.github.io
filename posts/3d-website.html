<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>I made a 3D Website</title><link rel="preload" href="/images/3d-website/three-fiber-example_1.12.1.png" as="image" fetchpriority="high"/><meta name="next-head-count" content="10"/><link rel="preload" href="/_next/static/css/9a4b0f5ce79e080b.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/9a4b0f5ce79e080b.css" crossorigin="" data-n-g=""/><link rel="preload" href="/_next/static/css/ee531a15804ab5f0.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/ee531a15804ab5f0.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-70f3bcf14ec27c00.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-28fb632452810d26.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-145f833db83c1e47.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-76502e455de2e558.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/733-be30f874b9528e73.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-f11c6f829efd1b32.js" defer="" crossorigin=""></script><script src="/_next/static/36ahIlKQJ3GJD0QPJ4a2T/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/36ahIlKQJ3GJD0QPJ4a2T/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><main style="top:0;left:0;right:0;bottom:0;position:absolute"><article class="__className_af7b73"><section class="article-header"><section class="article-header-flex-section"><ul class="__className_29b66e article-header-flex" style="width:fit-content"><li><a href="/"><h1 class="__className_29b66e">yourWaifu</h1></a></li></ul><ul class="article-header-flex right-menu"><li><a href="https://github.com/yourWaifu" aria-label="GitHub"><i class="fab fa-github fa-2x"></i></a></li></ul></section><section class="article-header-info"><h1 class="__className_29b66e article-header-title">I made a 3D Website</h1><div><p>written on <!-- -->Oct 6, 2021<!-- --> by Hao Qi Wu</p></div></section></section><div class="article"><section class="article-content"><p>I made a website that has 3D models, lighting, and materials. Likewise, I used a ton of different tools to get this result. And in this article I’ll be going over how I used Blender, React, and Three.JS to make a sick looking website.</p>
<a href="https://youtube.com/watch?v=Ii8PUGTwMpk">YouTube Link</a>
<h2>Overview</h2>
<p>I already have experience with WebGL from making my own game engine and having to use WebGL to render the game on a website. But I don’t feel like spending weeks on a renderer when there’s Three.js to do that stuff for me. There’s even a React Renderer made for it called React Three Fiber, that’ll help use Three.js with React.js.</p>
<h2>Adding 3D Stuff</h2>
<p><a href="https://codesandbox.io/s/volumetric-light-w633u"><img alt="" fetchpriority="high" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/three-fiber-example_1.12.1.png"/></a>
I remember using an example they had that rendered a 3D model. In that example, I noticed they used a GLTFLoader. GLTF is a royalty-free format for loading in models that 3D software like Blender supports, allowing us to use Blender for this project.
<a href="https://gltf.pmnd.rs/"><img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/gltf-code-generator_1.19.1.jpg"/></a>
Thankfully, someone also made a GLTF to React Three Fiber code generator that turned out to be really helpful, as it would write out the code you would need to write to load and render the 3D models and materials that’s in the GLTF file.
<a href="https://gltf.pmnd.rs/"><img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/just-a-girl-model_1.20.1.jpg"/></a>
They even have a nice website, where you can import 3D models. <a href="https://gltf.pmnd.rs/">https://gltf.pmnd.rs/</a>.</p>
<h2>Making a 3D Model</h2>
<p>However, before we can render a 3D model, we need a 3D model to render. Looking around in my hard drive, I found a flat 3D model of my name that I made years ago. I basically write my name in Krita, imported that into Inkscape, exported that as an SVG and imported that to Blender, where I turned it into a 3D model and exported that into a GLTF.
<a href="https://threejs.org/docs/index.html#api/en/materials/MeshBasicMaterial"><img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/three-basic-material_1.25.1.png"/></a>
The 3D model doesn’t have a material or texture, so I used Three.js’s basic material, which just renders it as a solid color of my choice that isn’t effected by any lights.</p>
<h2>The Camera</h2>
<p>After that, I added some camera controls. When I first envisioned this, I thought of the camera following a 3D path that the camera will take. However, I felt that having the camera move forward was enough for the sake of time. I added an invisible HTML element that extended past the screen to make it, so you can scroll down on the page, and made it so that scrolling down moves the camera.</p>
<video controls="" loop="" width="100%"><source src="/images/3d-website/BeneficialAdorableGrison-mobile.mp4" type="video/mp4"/></video>
<p>Doing this also makes the window where it draws all the 3D models also move up when you scroll down,</p>
<video controls="" loop="" width="100%"><source src="/images/3d-website/DizzyPleasingGreyhounddog-mobile.mp4" type="video/mp4"/></video>
<p>so I used some CSS to make it stay at the same spot on screen.</p>
<h2>Not a flat 3D Model</h2>
<img alt="" loading="lazy" width="1398" height="636" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/PXL_20210404_2033386212.jpg"/>
<p>At the time, I was buying a new keyboard, so I decided to 3D model one for the website. I haven’t touched blender in a while, and they changed the interface since I last 3D modeled something in it. However, I just messed around with it and made some donuts before modeling the keyboard. I also went online to find some keyboard, and none of them were to my liking, but I actually got to explore some 3D art on Sketchfab, and got a ton of inspiration.
<a href="https://sketchfab.com/3d-models/1984-apple-macintosh-128k-expanded-544a03b89d72462c9b1480dcae3d2530"><img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/box-keycaps_1.44.1.jpg"/></a>
I saw someone modeled some old computer and the keyboard was just a bunch of boxes.</p>
<img alt="" loading="lazy" width="1920" height="1050" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/keyboard-modeling.png"/>
<p>So that’s what I did, I just made different sized boxes and made some sides smaller.</p>
<img alt="" loading="lazy" width="1920" height="1050" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/computer-setup-proto.png"/>
<p>I also made a cup based off of low res cups I saw on Sketchfab. I didn’t stop there, I also made a computer, and a monitor.</p>
<h2>HTML in 3D</h2>
<p>I could have rendered text in WebGL, but doing so would remove a lot of browser features like text to speech, text select, and links. I would have to implement that stuff myself, there are libraries to do that, but I felt that it would be quicker to get this site working using HTML text. Furthermore, I used Drei, which is like a library full of different stuff for React Three Fiber, I used its HTML overlay for where the text content will be. Drei’s HTML overlay also changes the size of the elements to make it look like they were part of the 3D content.</p>
<img alt="" loading="lazy" width="1059" height="361" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/translateZ-issues.jpg"/>
<p>But when I first used it, it wouldn’t update the size of the elements for some reason unless I tell it to use CSS 3D translate, which created this really blurry text.</p>
<img alt="" loading="lazy" width="1020" height="293" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/scale-prototype.jpg"/>
<p>I didn’t like that, and I couldn’t figure out what went wrong, but I ended reading the code and recreating it into something that works for me. This solved the blurry text issue by having it not use CSS 3D translate and instead use CSS scale.</p>
<h2>The Round One</h2>
<img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/prototype_1.59.1.jpg"/>
<p>At this point, I deployed it and showed it off to some people online. I got a bunch of complaints about the cup being cursed. I think it’s because the cup and the name had two different styles that didn’t really match up together,</p>
<img alt="" loading="lazy" width="1920" height="1050" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/new-cup-vs-old-cup.png"/>
<p>so I decided to make a cup that was round.</p>
<img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/subdivisions_1.61.1.jpg"/>
<p>I did some subdivisions on the model and added a few more faces on the top and bottom, and it created this nice round model. However, this model had 2 million triangles. This model is going to be rendered on a slow phone, so I need to lower that triangle count so that it doesn’t cause my site to run so slowly.</p>
<video controls="" loop="" width="100%"><source src="/images/3d-website/SaneFloweryIrishredandwhitesetter-mobile.mp4" type="video/mp4"/></video>
<p>But lowering the number would make the cup less smooth looking. I know a trick that will work, and it is known as normal maps. It gives the illusion of a smoother model without more triangles. You can find more info online, but I never did this ever before, so I found tutorials online. Messed it up a bunch of times for hours and hours until I got a good result.</p>
<video controls="" loop="" width="100%"><source src="/images/3d-website/VariableRegalHoopoe-mobile.mp4" type="video/mp4"/></video>
<p>And there we have it, a name smooth cup without breaking the triangle budget.</p>
<h2>Different Surfaces One Material</h2>
<img alt="" loading="lazy" width="928" height="504" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/cpu-materal.jpg"/>
<p>I wanted to add another 3D model to the site, so I made a 3D model of a CPU. The material on the CPU was the most complex part, as a CPU is made up of more than one material. Some parts of it are made of nickel, copper, gold, etc.
<a href="https://www.nvidia.com/en-us/geforce/guides/minecraft-rtx-texturing-guide/"><img alt="" loading="lazy" width="2800" height="1276" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/RoughnessMap-2.png"/></a>
I also never had to do this before, but I actually found a good guide on this for Minecraft textures. Minecraft’s new path tracing renderer for their bedrock version of the game adds in an albedo, metalness, roughness, emissive, height, and normal map to their game, and they gave the community a good guide on how to use these for making texture packs. I’ve actually already known about this, but I have never made those things before, so I used this as a nice guide.</p>
<img alt="" loading="lazy" width="1920" height="704" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/blender-texture-painter_1.81.1.jpg"/>
<p>I quickly got familiar with blender’s texture painter and UV editor so that I can paint new albedo, metal, rough, and specular maps.</p>
<h2>99 Small Issues</h2>
<p>From here, I fixed mostly small issues. I wasn’t a fan of the scroll bar because I felt that it was destroying the illusion of a 3D website. At first, I didn’t know how to do this and messed around with the HTML and CSS to get it to not show a scroll bar. It took me another day when I figured out a solution, once I did, I had to rewrite a good chunk of the HTML layout.</p>
<img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/large-element_1.90.1.jpg"/>
<p>I ended up making a large HTML element that you can scroll with the 3D content and, using CSS, made the scroll bar off-screen to the right and made it so that you can’t scroll to it. I then had to make the 3D content stick to the top and left sides of the screen using CSS sticky.</p>
<!-- -->
<p>However, CSS sticky elements take up space as such, it allows the user to scroll more than before.</p>
<img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/canvas-under-scroll_1.90.2.jpg"/>
<p>The solution I wanted was having the scroll element under the canvas and button.</p>
<img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/flex-to-the-right_1.91.1.jpg"/>
<p>However, a simpler solution was to use CSS flex to move the scroll element to the right of the canvas, where it should also be off-screen.</p>
<p>Another problem was that is for some reason, I don’t know why, touching buttons outside this big scrollable element, like the Home button, would cancel some inputs like scrolling. Making scrolling feel unresponsive.</p>
<img alt="" loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" style="color:transparent" src="/images/3d-website/off-centered_1.95.1.jpg"/>
<p>I make this stick to the 3D content, but it would position itself a bit off-screen for some reason. In fact, this made me notice that the 3D content was also a bit off centered now too. I tried fixing this with just CSS, but after a day and no progress, I realized that the whole site requires JavaScript anyway, so might as well do this positioning in JavaScript.</p>
<pre><code class="language-js">const viewportTop = topRef.current.getBoundingClientRect().top;
const viewportBottom = bottomRef.current.getBoundingClientRect().bottom;
const viewportCenterY = (viewportTop + viewportBottom) / 2;
const canvasRect = canvasContainer.current.getBoundingClientRect();
const canvasCenterY = (canvasRect.top + canvasRect.bottom) / 2;
if (canvas.current.parentElement) {
    const transformGoalY =  viewportCenterY - canvasCenterY;
    if (transformGoalY !== canvasTransformY)
        canvas.current.parentElement.style.top = `${transformGoalY}px`;
    canvasTransformY = transformGoalY;
}

if (backButtonRef.current.parentElement) {
    const backBottom = canvasRect.bottom - viewportBottom;
    if (backButtonBottom !== backBottom)
        backButtonRef.current.parentElement.style.bottom = `${backBottom}px`;
    backButtonBottom = backBottom;
}
</code></pre>
<p>I calculated where the elements should be on-screen and positioned the elements on every frame. And that fixed the strange issues and hides the scroll bar.</p>
<video controls="" loop="" width="100%"><source src="/images/3d-website/HoarseGlaringAntbear-mobile.mp4" type="video/mp4"/></video>
<p>I also noticed an issue where the Non-JavaScript content would flash on-screen before the 3D content would then flash on screen. I decided to make the Non-JavaScript content only visible when there’s no JavaScript content.</p>
<video controls="" loop="" width="100%"><source src="/images/3d-website/UltimateOffbeatAttwatersprairiechicken-mobile.mp4" type="video/mp4"/></video>
<p>If JavaScript is enabled, some text would fade in and when the first 3D model finished loading, it would fade out the text and fade in the 3D content.</p>
<h2>The Results</h2>
<p>I showed it to people online and people were impressed. React.js, Three.js, and Blender, are all pretty good tools that can be used together to make some fun 3D websites. <a href="https://yourwaifu.dev/">Check it out at yourWaifu.dev.</a></p>
<h2>Thanks for Reading</h2>
<p>Writing, editing, and website by Hao Qi Wu <a href="https://yourwaifu.dev/">🔗Link</a></p>
<p>&quot;Just a girl&quot; (<a href="https://skfb.ly/6UCJW">🔗Link</a>) by 腱鞘炎の人 is licensed under Creative Commons Attribution (<a href="http://creativecommons.org/licenses/by/4.0/">🔗Link</a>).</p>
<p>Damaged Helmet - <a href="https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4">🔗Link</a>
Battle Damaged Sci-fi Helmet - PBR by theblueturtle_, published under a Creative Commons Attribution-NonCommercial license</p>
<p>1984 Apple Macintosh 128k (Expanded) <a href="https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4">🔗Link</a></p></section></div></article></main><noscript></noscript></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"postData":{"id":"3d-website","content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\n/*\u003cdiv style='position:relative; padding-bottom:calc(56.25% + 44px)'\u003e\u003ciframe src='https://gfycat.com/ifr/FalseAggravatingBorer' frameBorder='0' scrolling='no' width='100%' height='100%' style='position:absolute;top:0;left:0;' allowFullScreen\u003e\u003c/iframe\u003e\u003c/div\u003e*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h2: \"h2\",\n    a: \"a\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components), {YouTube, Image} = _components;\n  if (!Image) _missingMdxReference(\"Image\", true);\n  if (!YouTube) _missingMdxReference(\"YouTube\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"I made a website that has 3D models, lighting, and materials. Likewise, I used a ton of different tools to get this result. And in this article I’ll be going over how I used Blender, React, and Three.JS to make a sick looking website.\"\n    }), \"\\n\", _jsx(YouTube, {\n      videoId: \"Ii8PUGTwMpk\",\n      opts: {\n        width: '100%',\n        height: 'auto'\n      }\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Overview\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I already have experience with WebGL from making my own game engine and having to use WebGL to render the game on a website. But I don’t feel like spending weeks on a renderer when there’s Three.js to do that stuff for me. There’s even a React Renderer made for it called React Three Fiber, that’ll help use Three.js with React.js.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Adding 3D Stuff\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://codesandbox.io/s/volumetric-light-w633u\",\n        children: _jsx(Image, {\n          src: \"/images/3d-website/three-fiber-example_1.12.1.png\",\n          alt: \"\",\n          width: 1920,\n          height: 1080,\n          priority: true\n        })\n      }), \"\\r\\nI remember using an example they had that rendered a 3D model. In that example, I noticed they used a GLTFLoader. GLTF is a royalty-free format for loading in models that 3D software like Blender supports, allowing us to use Blender for this project.\\r\\n\", _jsx(_components.a, {\n        href: \"https://gltf.pmnd.rs/\",\n        children: _jsx(Image, {\n          src: \"/images/3d-website/gltf-code-generator_1.19.1.jpg\",\n          alt: \"\",\n          width: 1920,\n          height: 1080\n        })\n      }), \"\\r\\nThankfully, someone also made a GLTF to React Three Fiber code generator that turned out to be really helpful, as it would write out the code you would need to write to load and render the 3D models and materials that’s in the GLTF file.\\r\\n\", _jsx(_components.a, {\n        href: \"https://gltf.pmnd.rs/\",\n        children: _jsx(Image, {\n          src: \"/images/3d-website/just-a-girl-model_1.20.1.jpg\",\n          alt: \"\",\n          width: 1920,\n          height: 1080\n        })\n      }), \"\\r\\nThey even have a nice website, where you can import 3D models. \", _jsx(_components.a, {\n        href: \"https://gltf.pmnd.rs/\",\n        children: \"https://gltf.pmnd.rs/\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Making a 3D Model\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"However, before we can render a 3D model, we need a 3D model to render. Looking around in my hard drive, I found a flat 3D model of my name that I made years ago. I basically write my name in Krita, imported that into Inkscape, exported that as an SVG and imported that to Blender, where I turned it into a 3D model and exported that into a GLTF.\\r\\n\", _jsx(_components.a, {\n        href: \"https://threejs.org/docs/index.html#api/en/materials/MeshBasicMaterial\",\n        children: _jsx(Image, {\n          src: \"/images/3d-website/three-basic-material_1.25.1.png\",\n          alt: \"\",\n          width: 1920,\n          height: 1080\n        })\n      }), \"\\r\\nThe 3D model doesn’t have a material or texture, so I used Three.js’s basic material, which just renders it as a solid color of my choice that isn’t effected by any lights.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"The Camera\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"After that, I added some camera controls. When I first envisioned this, I thought of the camera following a 3D path that the camera will take. However, I felt that having the camera move forward was enough for the sake of time. I added an invisible HTML element that extended past the screen to make it, so you can scroll down on the page, and made it so that scrolling down moves the camera.\"\n    }), \"\\n\", _jsx(\"video\", {\n      controls: true,\n      loop: true,\n      width: \"100%\",\n      children: _jsx(\"source\", {\n        src: \"/images/3d-website/BeneficialAdorableGrison-mobile.mp4\",\n        type: \"video/mp4\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Doing this also makes the window where it draws all the 3D models also move up when you scroll down,\"\n    }), \"\\n\", _jsx(\"video\", {\n      controls: true,\n      loop: true,\n      width: \"100%\",\n      children: _jsx(\"source\", {\n        src: \"/images/3d-website/DizzyPleasingGreyhounddog-mobile.mp4\",\n        type: \"video/mp4\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"so I used some CSS to make it stay at the same spot on screen.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Not a flat 3D Model\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/PXL_20210404_2033386212.jpg\",\n      alt: \"\",\n      width: 1398,\n      height: 636\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"At the time, I was buying a new keyboard, so I decided to 3D model one for the website. I haven’t touched blender in a while, and they changed the interface since I last 3D modeled something in it. However, I just messed around with it and made some donuts before modeling the keyboard. I also went online to find some keyboard, and none of them were to my liking, but I actually got to explore some 3D art on Sketchfab, and got a ton of inspiration.\\r\\n\", _jsx(_components.a, {\n        href: \"https://sketchfab.com/3d-models/1984-apple-macintosh-128k-expanded-544a03b89d72462c9b1480dcae3d2530\",\n        children: _jsx(Image, {\n          src: \"/images/3d-website/box-keycaps_1.44.1.jpg\",\n          alt: \"\",\n          width: 1920,\n          height: 1080\n        })\n      }), \"\\r\\nI saw someone modeled some old computer and the keyboard was just a bunch of boxes.\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/keyboard-modeling.png\",\n      alt: \"\",\n      width: 1920,\n      height: 1050\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"So that’s what I did, I just made different sized boxes and made some sides smaller.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/computer-setup-proto.png\",\n      alt: \"\",\n      width: 1920,\n      height: 1050\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I also made a cup based off of low res cups I saw on Sketchfab. I didn’t stop there, I also made a computer, and a monitor.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"HTML in 3D\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I could have rendered text in WebGL, but doing so would remove a lot of browser features like text to speech, text select, and links. I would have to implement that stuff myself, there are libraries to do that, but I felt that it would be quicker to get this site working using HTML text. Furthermore, I used Drei, which is like a library full of different stuff for React Three Fiber, I used its HTML overlay for where the text content will be. Drei’s HTML overlay also changes the size of the elements to make it look like they were part of the 3D content.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/translateZ-issues.jpg\",\n      alt: \"\",\n      width: 1059,\n      height: 361\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"But when I first used it, it wouldn’t update the size of the elements for some reason unless I tell it to use CSS 3D translate, which created this really blurry text.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/scale-prototype.jpg\",\n      alt: \"\",\n      width: 1020,\n      height: 293\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I didn’t like that, and I couldn’t figure out what went wrong, but I ended reading the code and recreating it into something that works for me. This solved the blurry text issue by having it not use CSS 3D translate and instead use CSS scale.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"The Round One\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/prototype_1.59.1.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 1080\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At this point, I deployed it and showed it off to some people online. I got a bunch of complaints about the cup being cursed. I think it’s because the cup and the name had two different styles that didn’t really match up together,\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/new-cup-vs-old-cup.png\",\n      alt: \"\",\n      width: 1920,\n      height: 1050\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"so I decided to make a cup that was round.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/subdivisions_1.61.1.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 1080\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I did some subdivisions on the model and added a few more faces on the top and bottom, and it created this nice round model. However, this model had 2 million triangles. This model is going to be rendered on a slow phone, so I need to lower that triangle count so that it doesn’t cause my site to run so slowly.\"\n    }), \"\\n\", _jsx(\"video\", {\n      controls: true,\n      loop: true,\n      width: \"100%\",\n      children: _jsx(\"source\", {\n        src: \"/images/3d-website/SaneFloweryIrishredandwhitesetter-mobile.mp4\",\n        type: \"video/mp4\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"But lowering the number would make the cup less smooth looking. I know a trick that will work, and it is known as normal maps. It gives the illusion of a smoother model without more triangles. You can find more info online, but I never did this ever before, so I found tutorials online. Messed it up a bunch of times for hours and hours until I got a good result.\"\n    }), \"\\n\", _jsx(\"video\", {\n      controls: true,\n      loop: true,\n      width: \"100%\",\n      children: _jsx(\"source\", {\n        src: \"/images/3d-website/VariableRegalHoopoe-mobile.mp4\",\n        type: \"video/mp4\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"And there we have it, a name smooth cup without breaking the triangle budget.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Different Surfaces One Material\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/cpu-materal.jpg\",\n      alt: \"\",\n      width: 928,\n      height: 504\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I wanted to add another 3D model to the site, so I made a 3D model of a CPU. The material on the CPU was the most complex part, as a CPU is made up of more than one material. Some parts of it are made of nickel, copper, gold, etc.\\r\\n\", _jsx(_components.a, {\n        href: \"https://www.nvidia.com/en-us/geforce/guides/minecraft-rtx-texturing-guide/\",\n        children: _jsx(Image, {\n          src: \"/images/3d-website/RoughnessMap-2.png\",\n          alt: \"\",\n          width: 2800,\n          height: 1276\n        })\n      }), \"\\r\\nI also never had to do this before, but I actually found a good guide on this for Minecraft textures. Minecraft’s new path tracing renderer for their bedrock version of the game adds in an albedo, metalness, roughness, emissive, height, and normal map to their game, and they gave the community a good guide on how to use these for making texture packs. I’ve actually already known about this, but I have never made those things before, so I used this as a nice guide.\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/blender-texture-painter_1.81.1.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 704\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I quickly got familiar with blender’s texture painter and UV editor so that I can paint new albedo, metal, rough, and specular maps.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"99 Small Issues\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"From here, I fixed mostly small issues. I wasn’t a fan of the scroll bar because I felt that it was destroying the illusion of a 3D website. At first, I didn’t know how to do this and messed around with the HTML and CSS to get it to not show a scroll bar. It took me another day when I figured out a solution, once I did, I had to rewrite a good chunk of the HTML layout.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/large-element_1.90.1.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 1080\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I ended up making a large HTML element that you can scroll with the 3D content and, using CSS, made the scroll bar off-screen to the right and made it so that you can’t scroll to it. I then had to make the 3D content stick to the top and left sides of the screen using CSS sticky.\"\n    }), \"\\n\", \"\\n\", _jsx(_components.p, {\n      children: \"However, CSS sticky elements take up space as such, it allows the user to scroll more than before.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/canvas-under-scroll_1.90.2.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 1080\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The solution I wanted was having the scroll element under the canvas and button.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/flex-to-the-right_1.91.1.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 1080\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, a simpler solution was to use CSS flex to move the scroll element to the right of the canvas, where it should also be off-screen.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Another problem was that is for some reason, I don’t know why, touching buttons outside this big scrollable element, like the Home button, would cancel some inputs like scrolling. Making scrolling feel unresponsive.\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/3d-website/off-centered_1.95.1.jpg\",\n      alt: \"\",\n      width: 1920,\n      height: 1080\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I make this stick to the 3D content, but it would position itself a bit off-screen for some reason. In fact, this made me notice that the 3D content was also a bit off centered now too. I tried fixing this with just CSS, but after a day and no progress, I realized that the whole site requires JavaScript anyway, so might as well do this positioning in JavaScript.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-js\",\n        children: \"const viewportTop = topRef.current.getBoundingClientRect().top;\\r\\nconst viewportBottom = bottomRef.current.getBoundingClientRect().bottom;\\r\\nconst viewportCenterY = (viewportTop + viewportBottom) / 2;\\r\\nconst canvasRect = canvasContainer.current.getBoundingClientRect();\\r\\nconst canvasCenterY = (canvasRect.top + canvasRect.bottom) / 2;\\r\\nif (canvas.current.parentElement) {\\r\\n    const transformGoalY =  viewportCenterY - canvasCenterY;\\r\\n    if (transformGoalY !== canvasTransformY)\\r\\n        canvas.current.parentElement.style.top = `${transformGoalY}px`;\\r\\n    canvasTransformY = transformGoalY;\\r\\n}\\r\\n\\r\\nif (backButtonRef.current.parentElement) {\\r\\n    const backBottom = canvasRect.bottom - viewportBottom;\\r\\n    if (backButtonBottom !== backBottom)\\r\\n        backButtonRef.current.parentElement.style.bottom = `${backBottom}px`;\\r\\n    backButtonBottom = backBottom;\\r\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I calculated where the elements should be on-screen and positioned the elements on every frame. And that fixed the strange issues and hides the scroll bar.\"\n    }), \"\\n\", _jsx(\"video\", {\n      controls: true,\n      loop: true,\n      width: \"100%\",\n      children: _jsx(\"source\", {\n        src: \"/images/3d-website/HoarseGlaringAntbear-mobile.mp4\",\n        type: \"video/mp4\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I also noticed an issue where the Non-JavaScript content would flash on-screen before the 3D content would then flash on screen. I decided to make the Non-JavaScript content only visible when there’s no JavaScript content.\"\n    }), \"\\n\", _jsx(\"video\", {\n      controls: true,\n      loop: true,\n      width: \"100%\",\n      children: _jsx(\"source\", {\n        src: \"/images/3d-website/UltimateOffbeatAttwatersprairiechicken-mobile.mp4\",\n        type: \"video/mp4\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If JavaScript is enabled, some text would fade in and when the first 3D model finished loading, it would fade out the text and fade in the 3D content.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"The Results\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"I showed it to people online and people were impressed. React.js, Three.js, and Blender, are all pretty good tools that can be used together to make some fun 3D websites. \", _jsx(_components.a, {\n        href: \"https://yourwaifu.dev/\",\n        children: \"Check it out at yourWaifu.dev.\"\n      })]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Thanks for Reading\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Writing, editing, and website by Hao Qi Wu \", _jsx(_components.a, {\n        href: \"https://yourwaifu.dev/\",\n        children: \"🔗Link\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"\\\"Just a girl\\\" (\", _jsx(_components.a, {\n        href: \"https://skfb.ly/6UCJW\",\n        children: \"🔗Link\"\n      }), \") by 腱鞘炎の人 is licensed under Creative Commons Attribution (\", _jsx(_components.a, {\n        href: \"http://creativecommons.org/licenses/by/4.0/\",\n        children: \"🔗Link\"\n      }), \").\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Damaged Helmet - \", _jsx(_components.a, {\n        href: \"https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4\",\n        children: \"🔗Link\"\n      }), \"\\r\\nBattle Damaged Sci-fi Helmet - PBR by theblueturtle_, published under a Creative Commons Attribution-NonCommercial license\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"1984 Apple Macintosh 128k (Expanded) \", _jsx(_components.a, {\n        href: \"https://sketchfab.com/models/b81008d513954189a063ff901f7abfe4\",\n        children: \"🔗Link\"\n      })]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}},"layout":"article","title":"I made a 3D Website","description":null,"author":"Hao Qi Wu","date":"Wed Oct 06 2021 22:30:00 GMT+0000 (Coordinated Universal Time)"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"3d-website"},"buildId":"36ahIlKQJ3GJD0QPJ4a2T","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>