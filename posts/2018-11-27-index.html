<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css?family=Raleway:300" data-optimized-fonts="true"/><link rel="stylesheet" type="text/css" data-href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" data-optimized-fonts="true"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"/><link rel="stylesheet" type="text/css" href="/style.css" media="screen"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Happy birthday to Sleepy Discord</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/1fca6310a650d159c4fa.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1fca6310a650d159c4fa.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-1d8564d2d19a2a5ef479.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-92300432a1172ef1338b.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-cdc763525a8ea4696302.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8b8aac030ffb14bf539f.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-bb53b920ae8c58be156e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-515e2aa21afb2a32e700.js" as="script"/><style data-href="https://fonts.googleapis.com/css?family=Raleway:300">@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v22/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCIPrc.woff) format('woff')}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v22/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCFPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v22/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCMPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v22/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCHPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v22/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCGPrcVIT9d0c-dYA.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Raleway';font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v22/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVuEorCIPrcVIT9d0c8.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css?family=Open+Sans:400,700">@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:normal;src:url(https://fonts.gstatic.com/s/opensans/v27/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVQ.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:normal;src:url(https://fonts.gstatic.com/s/opensans/v27/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsg-1x4gaVQ.woff) format('woff')}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu0SC55K5gw.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu0SC55K5gw.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu0SC55K5gw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu0SC55K5gw.woff2) format('woff2');unicode-range:U+0590-05FF,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu0SC55K5gw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;font-stretch:100%;src:url(https://fonts.gstatic.com/s/opensans/v27/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-mu0SC55I.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><main style="top:0;left:0;right:0;bottom:0;position:absolute"><article><section class="article-header"><section class="article-header-flex-section"><ul class="article-header-flex" style="width:fit-content"><li><a href="/"><h1>yourWaifu</h1></a></li></ul><ul class="article-header-flex right-menu"><li><a href="https://github.com/yourWaifu"><i class="fab fa-github fa-2x"></i></a></li></ul></section><section class="article-header-info"><h1 class="article-header-title">Happy birthday to Sleepy Discord</h1><div><p>written on <!-- -->Nov 27, 2018<!-- --> by Hao Qi Wu</p></div></section></section><div class="article"><section class="article-content"><div><p>Sleepy Discord is now 2 years old. The first line of code for Sleepy Discord was first written on May 28, 2016. You may have noticed something, this article was written in November. So that means that this article is 6 months late. As they say, "it's better late than never." and this quote is true in this case.</p>
<h2>Why????</h2>
<p>I like to say it's because I wanted to make a Discord client running on hardware that wasn't a laptop or desktop, for example, video game consoles. But that's a lie. I'm sorry to the people I told that lie, the real reason was that I was posting a lot of NSFW pictures on Discord and I needed to keep track of all of them and noticed the lack of c++ libraries. Sadly I never got around to making that bot because I stopped posting NSFW images on Discord. However, I wanted to write that the bot in a language that I liked because, to be honest, I don't like js. In hindsight, I could have just learned a new language and used that to write the bot. However if I did that, then this library wouldn't exist.</p>
<h2>The First lines of code</h2>
<p>So let's look back and see what's the first lines of code for Sleepy Discord.</p>
<pre><code class="language-cpp">
#include &#x3C;cpr/cpr.h>

</code></pre>
<p>For those that don't know c++, <code>#include</code> includes other source files in a source file. This source file being inside the <code>cpr</code> directory and the file <code>cpr.h</code>. This is a file that is part of <a href="https://github.com/whoshuu/cpr">the cpr library</a>, a wrapper over libCURL, a http library written in c. This is because the first thing that was done to make Sleepy Discord was to connect to Discord. To do that, we needed to get the URL to connect to Discord's WebSockets server and we can get that URL by making a request to Discord to give us the URL. To make a request we need some way to make an HTTP request in c++. So let's take a look at the code to do this.</p>
<pre><code class="language-cpp">auto a = cpr::Post(cpr::Url{ "https://discordapp.com/api/gateway" });
</code></pre>
<p>Basically a simple post request to https://discordapp.com/api/gateway that is stored into the variable <code>a</code>.</p>
<h2>Future</h2>
<p>I ended up talking a lot about the possible futures for Sleepy Discord so make it a separate article. That will be released later, but if you want to look into my plans for Sleepy Discord, <a href="https://trello.com/b/x5xsx21a/sleepy-discord-plans">check out my to-do list</a>.</p>
<p>Thanks for reading! 😄</p>
</div></section></div></article></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2018-11-27-index","content":"\u003cp\u003eSleepy Discord is now 2 years old. The first line of code for Sleepy Discord was first written on May 28, 2016. You may have noticed something, this article was written in November. So that means that this article is 6 months late. As they say, \"it's better late than never.\" and this quote is true in this case.\u003c/p\u003e\n\u003ch2\u003eWhy????\u003c/h2\u003e\n\u003cp\u003eI like to say it's because I wanted to make a Discord client running on hardware that wasn't a laptop or desktop, for example, video game consoles. But that's a lie. I'm sorry to the people I told that lie, the real reason was that I was posting a lot of NSFW pictures on Discord and I needed to keep track of all of them and noticed the lack of c++ libraries. Sadly I never got around to making that bot because I stopped posting NSFW images on Discord. However, I wanted to write that the bot in a language that I liked because, to be honest, I don't like js. In hindsight, I could have just learned a new language and used that to write the bot. However if I did that, then this library wouldn't exist.\u003c/p\u003e\n\u003ch2\u003eThe First lines of code\u003c/h2\u003e\n\u003cp\u003eSo let's look back and see what's the first lines of code for Sleepy Discord.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003e\r\n#include \u0026#x3C;cpr/cpr.h\u003e\r\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor those that don't know c++, \u003ccode\u003e#include\u003c/code\u003e includes other source files in a source file. This source file being inside the \u003ccode\u003ecpr\u003c/code\u003e directory and the file \u003ccode\u003ecpr.h\u003c/code\u003e. This is a file that is part of \u003ca href=\"https://github.com/whoshuu/cpr\"\u003ethe cpr library\u003c/a\u003e, a wrapper over libCURL, a http library written in c. This is because the first thing that was done to make Sleepy Discord was to connect to Discord. To do that, we needed to get the URL to connect to Discord's WebSockets server and we can get that URL by making a request to Discord to give us the URL. To make a request we need some way to make an HTTP request in c++. So let's take a look at the code to do this.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-cpp\"\u003eauto a = cpr::Post(cpr::Url{ \"https://discordapp.com/api/gateway\" });\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBasically a simple post request to https://discordapp.com/api/gateway that is stored into the variable \u003ccode\u003ea\u003c/code\u003e.\u003c/p\u003e\n\u003ch2\u003eFuture\u003c/h2\u003e\n\u003cp\u003eI ended up talking a lot about the possible futures for Sleepy Discord so make it a separate article. That will be released later, but if you want to look into my plans for Sleepy Discord, \u003ca href=\"https://trello.com/b/x5xsx21a/sleepy-discord-plans\"\u003echeck out my to-do list\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThanks for reading! 😄\u003c/p\u003e\n","layout":"article","title":"Happy birthday to Sleepy Discord","description":null,"author":"Sleepy Flower Girl","date":"Tue Nov 27 2018 22:30:00 GMT+0000 (Coordinated Universal Time)"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2018-11-27-index"},"buildId":"74Xp6LR0FXfvJK3nhFx6s","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/_next/static/chunks/webpack-1d8564d2d19a2a5ef479.js" async=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" async=""></script><script src="/_next/static/chunks/main-cdc763525a8ea4696302.js" async=""></script><script src="/_next/static/chunks/pages/_app-8b8aac030ffb14bf539f.js" async=""></script><script src="/_next/static/chunks/996-bb53b920ae8c58be156e.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-515e2aa21afb2a32e700.js" async=""></script><script src="/_next/static/74Xp6LR0FXfvJK3nhFx6s/_buildManifest.js" async=""></script><script src="/_next/static/74Xp6LR0FXfvJK3nhFx6s/_ssgManifest.js" async=""></script></body></html>